(()=>{var e={565:(e,t)=>{"use strict";function r(e){var t={type:"Feature"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=n(e.properties),t.geometry=o(e.geometry),t}function n(e){var t={};return e?(Object.keys(e).forEach((function(r){var o=e[r];"object"==typeof o?null===o?t[r]=null:Array.isArray(o)?t[r]=o.map((function(e){return e})):t[r]=n(o):t[r]=o})),t):t}function o(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return o(e)})),t):(t.coordinates=i(e.coordinates),t)}function i(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return i(e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return r(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((function(e){return r(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(e);default:throw new Error("unknown GeoJSON type")}}},102:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function n(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}t.rQ=6371008.8,t.Cm={centimeters:100*t.rQ,centimetres:100*t.rQ,degrees:t.rQ/111325,feet:3.28084*t.rQ,inches:39.37*t.rQ,kilometers:t.rQ/1e3,kilometres:t.rQ/1e3,meters:t.rQ,metres:t.rQ,miles:t.rQ/1609.344,millimeters:1e3*t.rQ,millimetres:1e3*t.rQ,nauticalmiles:t.rQ/1852,radians:1,yards:t.rQ/1.0936},t.rQ,t.Wo={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.xm=function(e,t,o){if(void 0===o&&(o={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(e[0])||!n(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,o)}},540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(80);function o(e,t,r){if(null!==e)for(var n,i,a,s,u,l,c,f,p=0,h=0,d=e.type,m="FeatureCollection"===d,g="Feature"===d,y=m?e.features.length:1,v=0;v<y;v++){u=(f=!!(c=m?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var w=0;w<u;w++){var b=0,S=0;if(null!==(s=f?c.geometries[w]:c)){l=s.coordinates;var N=s.type;switch(p=!r||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===t(l,h,v,b,S))return!1;h++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===t(l[n],h,v,b,S))return!1;h++,"MultiPoint"===N&&b++}"LineString"===N&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-p;i++){if(!1===t(l[n][i],h,v,b,S))return!1;h++}"MultiLineString"===N&&b++,"Polygon"===N&&S++}"Polygon"===N&&b++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(S=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-p;a++){if(!1===t(l[n][i][a],h,v,b,S))return!1;h++}S++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function s(e,t){var r,n,o,i,a,s,u,l,c,f,p=0,h="FeatureCollection"===e.type,d="Feature"===e.type,m=h?e.features.length:1;for(r=0;r<m;r++){for(s=h?e.features[r].geometry:d?e.geometry:e,l=h?e.features[r].properties:d?e.properties:{},c=h?e.features[r].bbox:d?e.bbox:void 0,f=h?e.features[r].id:d?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,l,c,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,l,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,c,f))return!1;p++}}function u(e,t){s(e,(function(e,r,o,i,a){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(n.feature(e,o,{bbox:i,id:a}),r,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<e.coordinates.length;l++){var c={type:s,coordinates:e.coordinates[l]};if(!1===t(n.feature(c,o),r,l))return!1}}))}function l(e,t){u(e,(function(e,r,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,f=0;return!1!==o(e,(function(o,s,p,h,d){if(void 0===u||r>l||h>c||d>f)return u=o,l=r,c=h,f=d,void(a=0);var m=n.lineString([u,o],e.properties);if(!1===t(m,r,i,d,a))return!1;a++,u=o}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");u(e,(function(e,r,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(n.lineString(a[s],e.properties),r,o,s))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,r,n){var i=r;return o(e,(function(e,n,o,a,s){i=0===n&&void 0===r?e:t(i,e,n,o,a,s)}),n),i},t.featureEach=a,t.featureReduce=function(e,t,r){var n=r;return a(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.findPoint=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),u=u||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return n.point(l,u,t);case"MultiPoint":return i<0&&(i=l.length+i),n.point(l[i],u,t);case"LineString":return s<0&&(s=l.length+s),n.point(l[s],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),n.point(l[a][s],u,t);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),n.point(l[i][s],u,t);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s),n.point(l[i][a][s],u,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),u=u||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":u=u||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),n.lineString([l[s],l[s+1]],u,t);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),n.lineString([l[a][s],l[a][s+1]],u,t);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s-1),n.lineString([l[i][s],l[i][s+1]],u,t);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s-1),n.lineString([l[i][a][s],l[i][a][s+1]],u,t)}throw new Error("geojson is invalid")},t.flattenEach=u,t.flattenReduce=function(e,t,r){var n=r;return u(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n},t.geomEach=s,t.geomReduce=function(e,t,r){var n=r;return s(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n},t.lineEach=c,t.lineReduce=function(e,t,r){var n=r;return c(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n},t.propEach=i,t.propReduce=function(e,t,r){var n=r;return i(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n},t.segmentEach=l,t.segmentReduce=function(e,t,r){var n=r,o=!1;return l(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}},80:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function n(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function o(e,t,n){void 0===n&&(n={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function i(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function a(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function s(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function u(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function l(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function c(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function f(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function p(e){return e%(2*Math.PI)*180/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return n(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid")}},t.point=n,t.points=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return n(e,t)})),r)},t.polygon=o,t.polygons=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return o(e,t)})),r)},t.lineString=i,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return i(e,t)})),r)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=u,t.multiPolygon=l,t.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=c,t.lengthToRadians=f,t.lengthToDegrees=function(e,t){return p(f(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(f(e,t),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[r];if(!o)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=h,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!h(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},981:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(540),i=r(16),a=n(r(565));function s(e,t,r){void 0===r&&(r={});var n=(r=r||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&i.isNumber(e[0])?e="mercator"===t?u(e):l(e):(!0!==n&&(e=a.default(e)),o.coordEach(e,(function(e){var r="mercator"===t?u(e):l(e);e[0]=r[0],e[1]=r[1]}))),e}function u(e){var t,r=Math.PI/180,n=6378137,o=20037508.342789244,i=[n*(Math.abs(e[0])<=180?e[0]:e[0]-360*((t=e[0])<0?-1:t>0?1:0))*r,n*Math.log(Math.tan(.25*Math.PI+.5*e[1]*r))];return i[0]>o&&(i[0]=o),i[0]<-o&&(i[0]=-o),i[1]>o&&(i[1]=o),i[1]<-o&&(i[1]=-o),i}function l(e){var t=180/Math.PI,r=6378137;return[e[0]*t/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*t]}t.toMercator=function(e,t){return void 0===t&&(t={}),s(e,"mercator",t)},t.toWgs84=function(e,t){return void 0===t&&(t={}),s(e,"wgs84",t)}},16:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function n(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function o(e,t,n){void 0===n&&(n={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function i(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function a(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function s(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function u(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function l(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function c(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function f(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function p(e){return e%(2*Math.PI)*180/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return n(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid")}},t.point=n,t.points=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return n(e,t)})),r)},t.polygon=o,t.polygons=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return o(e,t)})),r)},t.lineString=i,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),a(e.map((function(e){return i(e,t)})),r)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=u,t.multiPolygon=l,t.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=c,t.lengthToRadians=f,t.lengthToDegrees=function(e,t){return p(f(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(f(e,t),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[r];if(!o)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=h,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!h(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},442:(e,t,r)=>{var n=r(737);function o(e){return Object.keys(e).length?" "+Object.keys(e).map((function(t){return t+'="'+n(e[t])+'"'})).join(" "):""}e.exports.attr=o,e.exports.tagClose=function(e,t){return"<"+e+o(t)+"/>"},e.exports.tag=function(e,t,r){return(Array.isArray(t)||"string"==typeof t)&&(r=t,t={}),Array.isArray(r)&&(r="\n"+r.map((function(e){return"  "+e})).join("\n")+"\n"),"<"+e+o(t)+">"+r+"</"+e+">"}},55:function(e,t,r){!function(t,n){if("object"==typeof e.exports&&(e.exports=n(r(257))),"object"==typeof t.navigator){if(!t.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");t.Terraformer.ArcGIS=n(t.Terraformer)}}(this,(function(e){var t={};function r(e){var t,r,n,o,i=0,a=0,s=[];n=e.match(/((\+|\-)[^\+\-]+)/g),o=parseInt(n[0],32);for(var u=1;u<n.length;u+=2)i=t=parseInt(n[u],32)+i,a=r=parseInt(n[u+1],32)+a,s.push([t/o,r/o]);return s}function n(e){return function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(e[0],e[e.length-1])||e.push(e[0]),e}function o(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function i(e){for(var t,r=0,n=0,o=e.length,i=e[n];n<o-1;n++)r+=((t=e[n+1])[0]-i[0])*(t[1]+i[1]),i=t;return r>=0}function a(e){var t=[],r=e.slice(0),o=n(r.shift().slice(0));if(o.length>=4){i(o)||o.reverse(),t.push(o);for(var a=0;a<r.length;a++){var s=n(r[a].slice(0));s.length>=4&&(i(s)&&s.reverse(),t.push(s))}}return t}function s(t,r){var n=e.Tools.arraysIntersectArrays(t,r),o=e.Tools.coordinatesContainPoint(t,r[0]);return!(n||!o)}function u(t,a){var l={};return(a=a||{}).idAttribute=a.idAttribute||void 0,!t.spatialReference||3857!==t.spatialReference.wkid&&102100!==t.spatialReference.wkid||(l.crs=e.MercatorCRS),"number"==typeof t.x&&"number"==typeof t.y&&(l.type="Point",l.coordinates=[t.x,t.y],(t.z||t.m)&&l.coordinates.push(t.z),t.m&&l.coordinates.push(t.m)),t.points&&(l.type="MultiPoint",l.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(l.type="LineString",l.coordinates=t.paths[0].slice(0)):(l.type="MultiLineString",l.coordinates=t.paths.slice(0))),t.rings&&(l=function(t){for(var r,o,a,u=[],l=[],c=0;c<t.length;c++){var f=n(t[c].slice(0));if(!(f.length<4))if(i(f)){var p=[f.slice().reverse()];u.push(p)}else l.push(f.slice().reverse())}for(var h=[];l.length;){a=l.pop();var d=!1;for(r=u.length-1;r>=0;r--)if(s(o=u[r][0],a)){u[r].push(a),d=!0;break}d||h.push(a)}for(;h.length;){a=h.pop();var m=!1;for(r=u.length-1;r>=0;r--)if(o=u[r][0],e.Tools.arraysIntersectArrays(o,a)){u[r].push(a),m=!0;break}m||u.push([a.reverse()])}return 1===u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}(t.rings.slice(0))),"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax&&(l.type="Polygon",l.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.compressedGeometry||t.geometry||t.attributes)&&(l.type="Feature",t.compressedGeometry&&(t.geometry={paths:[r(t.compressedGeometry)]}),l.geometry=t.geometry?u(t.geometry):null,l.properties=t.attributes?o(t.attributes):null,t.attributes&&(l.id=t.attributes[a.idAttribute]||t.attributes.OBJECTID||t.attributes.FID)),new e.Primitive(l)}function l(e,t){var r,n=(t=t||{}).idAttribute||"OBJECTID";r=t.sr?{wkid:t.sr}:e&&e.crs&&"urn:ogc:def:crs:OGC:1.3:CRS84"!=e.crs.properties.name?null:{wkid:4326};var i,s={};switch(e.type){case"Point":s.x=e.coordinates[0],s.y=e.coordinates[1],e.coordinates[2]&&(s.z=e.coordinates[2]),e.coordinates[3]&&(s.m=e.coordinates[3]),s.spatialReference=r;break;case"MultiPoint":s.points=e.coordinates.slice(0),s.spatialReference=r;break;case"LineString":s.paths=[e.coordinates.slice(0)],s.spatialReference=r;break;case"MultiLineString":s.paths=e.coordinates.slice(0),s.spatialReference=r;break;case"Polygon":s.rings=a(e.coordinates.slice(0)),s.spatialReference=r;break;case"MultiPolygon":s.rings=function(e){for(var t=[],r=0;r<e.length;r++)for(var n=a(e[r]),o=n.length-1;o>=0;o--){var i=n[o].slice(0);t.push(i)}return t}(e.coordinates.slice(0)),s.spatialReference=r;break;case"Feature":e.geometry&&(s.geometry=l(e.geometry,t)),s.attributes=e.properties?o(e.properties):{},e.id&&(s.attributes[n]=e.id);break;case"FeatureCollection":for(s=[],i=0;i<e.features.length;i++)s.push(l(e.features[i],t));break;case"GeometryCollection":for(s=[],i=0;i<e.geometries.length;i++)s.push(l(e.geometries[i],t))}return s}return t.parse=u,t.convert=l,t.toGeoJSON=u,t.fromGeoJSON=l,t.parseCompressedGeometry=function(t){return new e.LineString(r(t))},t}))},257:function(e,t){var r;r=function(){"use strict";var e={},t=6378137,r={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}};function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function i(e){if(e.type)switch(e.type){case"Point":return[e.coordinates[0],e.coordinates[1],e.coordinates[0],e.coordinates[1]];case"MultiPoint":case"LineString":return a(e.coordinates);case"MultiLineString":case"Polygon":return function(e){for(var t=null,r=null,n=null,o=null,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var u=a[s],l=u[0],c=u[1];(null===t||l<t)&&(t=l),(null===r||l>r)&&(r=l),(null===n||c<n)&&(n=c),(null===o||c>o)&&(o=c)}return[t,n,r,o]}(e.coordinates);case"MultiPolygon":return function(e){for(var t=null,r=null,n=null,o=null,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++)for(var u=a[s],l=0;l<u.length;l++){var c=u[l],f=c[0],p=c[1];(null===t||f<t)&&(t=f),(null===r||f>r)&&(r=f),(null===n||p<n)&&(n=p),(null===o||p>o)&&(o=p)}return[t,n,r,o]}(e.coordinates);case"Feature":return e.geometry?i(e.geometry):null;case"FeatureCollection":return function(e){for(var t,r=[],n=e.features.length-1;n>=0;n--)t=i(e.features[n].geometry),r.push([t[0],t[1]]),r.push([t[2],t[3]]);return a(r)}(e);case"GeometryCollection":return function(e){for(var t,r=[],n=e.geometries.length-1;n>=0;n--)t=i(e.geometries[n]),r.push([t[0],t[1]]),r.push([t[2],t[3]]);return a(r)}(e);default:throw new Error("Unknown type: "+e.type)}return null}function a(e){for(var t=null,r=null,n=null,o=null,i=0;i<e.length;i++){var a=e[i],s=a[0],u=a[1];(null===t||s<t)&&(t=s),(null===r||s>r)&&(r=s),(null===n||u<n)&&(n=u),(null===o||u>o)&&(o=u)}return[t,n,r,o]}function s(e){var t=i(e);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function u(e){return 57.29577951308232*e}function l(e){return.017453292519943*e}function c(e,t){for(var r=0;r<e.length;r++)"number"==typeof e[r][0]&&(e[r]=t(e[r])),"object"==typeof e[r]&&(e[r]=c(e[r],t));return e}function f(e){var r=e[0],n=e[1];return[u(r/t)-360*Math.floor((u(r/t)+180)/360),u(Math.PI/2-2*Math.atan(Math.exp(-1*n/t)))]}function p(e){var r=e[0],n=Math.max(Math.min(e[1],89.99999),-89.99999);return[l(r)*t,3189068.5*Math.log((1+Math.sin(l(n)))/(1-Math.sin(l(n))))]}function h(e,t,n){if("Point"===e.type)e.coordinates=t(e.coordinates);else if("Feature"===e.type)e.geometry=h(e.geometry,t,!0);else if("FeatureCollection"===e.type)for(var o=0;o<e.features.length;o++)e.features[o]=h(e.features[o],t,!0);else if("GeometryCollection"===e.type)for(var i=0;i<e.geometries.length;i++)e.geometries[i]=h(e.geometries[i],t,!0);else e.coordinates=c(e.coordinates,t);return n||t===p&&(e.crs=r),t===f&&delete e.crs,e}function d(e){return h(e,p)}function m(e){return h(e,f)}function g(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function y(e,t,r){return(n=(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1]))<0?-1:n>0?1:0;var n}function v(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function w(e,t){var r=t;for(var n in e){var o=y(t,r,e[n]);(-1===o||0===o&&v(t,e[n])>v(t,r))&&(r=e[n])}return r}function b(e){if(0===e.length)return[];if(1===e.length)return e;for(var t=[e.sort(g)[0]],r=0;r<t.length;r++){var n=w(e,t[r]);n!==t[0]&&t.push(n)}return t}function S(e,t){for(var r=!1,n=-1,o=e.length,i=o-1;++n<o;i=n)(e[n][1]<=t[1]&&t[1]<e[i][1]||e[i][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[i][0]-e[n][0])*(t[1]-e[n][1])/(e[i][1]-e[n][1])+e[n][0]&&(r=!r);return r}function N(e,t){if(e&&e.length){if(1===e.length)return S(e[0],t);if(S(e[0],t)){for(var r=1;r<e.length;r++)if(S(e[r],t))return!1;return!0}return!1}return!1}function x(e,t,r,n){var o=(n[0]-r[0])*(e[1]-r[1])-(n[1]-r[1])*(e[0]-r[0]),i=(t[0]-e[0])*(e[1]-r[1])-(t[1]-e[1])*(e[0]-r[0]),a=(n[1]-r[1])*(t[0]-e[0])-(n[0]-r[0])*(t[1]-e[1]);if(0!==a){var s=o/a,u=i/a;if(0<=s&&s<=1&&0<=u&&u<=1)return!0}return!1}function E(e){return!isNaN(parseFloat(e))&&isFinite(e)}function P(e,t){if(E(e[0][0])){if(E(t[0][0])){for(var r=0;r<e.length-1;r++)for(var n=0;n<t.length-1;n++)if(x(e[r],e[r+1],t[n],t[n+1]))return!0}else for(var o=0;o<t.length;o++)if(P(e,t[o]))return!0}else for(var i=0;i<e.length;i++)if(P(e[i],t))return!0;return!1}function T(e){for(var t=[],r=0;r<e.length;r++){var n=e[r].slice();!1===M(n[0],n[n.length-1])&&n.push(n[0]),t.push(n)}return t}function M(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function C(e,t){if(e.length!==t.length)return!1;for(var r=e.slice().sort(g),n=t.slice().sort(g),o=0;o<r.length;o++){if(r[o].length!==n[o].length)return!1;for(var i=0;i<r.length;i++)if(r[o][i]!==n[o][i])return!1}return!0}var k=["length"];function A(e){if(e)switch(e.type){case"Point":return new D(e);case"MultiPoint":return new R(e);case"LineString":return new I(e);case"MultiLineString":return new L(e);case"Polygon":return new F(e);case"MultiPolygon":return new _(e);case"Feature":return new O(e);case"FeatureCollection":return new j(e);case"GeometryCollection":return new G(e);default:throw new Error("Unknown type: "+e.type)}}function D(e){var t=Array.prototype.slice.call(arguments);if(e&&"Point"===e.type&&e.coordinates)o(this,e);else if(e&&n(e))this.coordinates=e;else{if(!(t.length>=2))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=t}this.type="Point"}function R(e){if(e&&"MultiPoint"===e.type&&e.coordinates)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=e}this.type="MultiPoint"}function I(e){if(e&&"LineString"===e.type&&e.coordinates)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=e}this.type="LineString"}function L(e){if(e&&"MultiLineString"===e.type&&e.coordinates)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=e}this.type="MultiLineString"}function F(e){if(e&&"Polygon"===e.type&&e.coordinates)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=e}this.type="Polygon"}function _(e){if(e&&"MultiPolygon"===e.type&&e.coordinates)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=e}this.type="MultiPolygon"}function O(e){if(e&&"Feature"===e.type)o(this,e);else{if(!(e&&e.type&&e.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=e}this.type="Feature"}function j(e){if(e&&"FeatureCollection"===e.type&&e.features)o(this,e);else{if(!n(e))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=e}this.type="FeatureCollection"}function G(e){if(e&&"GeometryCollection"===e.type&&e.geometries)o(this,e);else if(n(e))this.geometries=e;else{if(!e.coordinates||!e.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[e]}this.type="GeometryCollection"}function U(e,t,r){for(var n=p(e),o=r||64,i={type:"Polygon",coordinates:[[]]},a=1;a<=o;a++){var s=a*(360/o)*Math.PI/180;i.coordinates[0].push([n[0]+t*Math.cos(s),n[1]+t*Math.sin(s)])}return i.coordinates=T(i.coordinates),m(i)}function B(e,t,r){var n=r||64,i=t||250;if(!e||e.length<2||!i||!n)throw new Error("Terraformer: missing parameter for Terraformer.Circle");o(this,new O({type:"Feature",geometry:U(e,i,n),properties:{radius:i,center:e,steps:n}}))}return A.prototype.toMercator=function(){return d(this)},A.prototype.toGeographic=function(){return m(this)},A.prototype.envelope=function(){return s(this)},A.prototype.bbox=function(){return i(this)},A.prototype.convexHull=function(){var e,t,r=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&this.coordinates.length>=3))return null;r=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)r=r.concat(this.coordinates[e]);if(r.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)for(t=0;t<this.coordinates[e].length;t++)r=r.concat(this.coordinates[e][t]);if(r.length<3)return null}else if("Feature"===this.type)return new A(this.geometry).convexHull();return new F({type:"Polygon",coordinates:T([b(r)])})},A.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&-1===k.indexOf(t)&&(e[t]=this[t]);return e.bbox=i(this),e},A.prototype.contains=function(e){return new A(e).within(this)},A.prototype.within=function(e){var t,r,n;if("Feature"===e.type&&(e=e.geometry),"Point"===e.type&&"Point"===this.type)return M(this.coordinates,e.coordinates);if("MultiLineString"===e.type&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){var o={type:"LineString",coordinates:e.coordinates[t]};if(this.within(o))return!0}if(("LineString"===e.type||"MultiPoint"===e.type)&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){if(this.coordinates.length!==e.coordinates[t].length)return!1;if(M(this.coordinates,e.coordinates[t]))return!0}if("Polygon"===e.type){if("Polygon"===this.type){if(e.coordinates.length===this.coordinates.length)for(t=0;t<this.coordinates.length;t++)if(C(this.coordinates[t],e.coordinates[t]))return!0;return!(!this.coordinates.length||!N(e.coordinates,this.coordinates[0][0])||P(T(this.coordinates),T(e.coordinates)))}if("Point"===this.type)return N(e.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(t=0;t<this.coordinates.length;t++)if(!1===N(e.coordinates,this.coordinates[t]))return!1;return!0}if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++)if(!1===new I(this.coordinates[t]).within(e))return n++,!1;return!0}if("MultiPolygon"===this.type){for(t=0;t<this.coordinates.length;t++)if(!1===new A({type:"Polygon",coordinates:this.coordinates[t]}).within(e))return!1;return!0}}if("MultiPolygon"===e.type){if("Point"===this.type){if(e.coordinates.length)for(t=0;t<e.coordinates.length;t++)if(N(e.coordinates[t],this.coordinates)&&!1===P([this.coordinates],e.coordinates))return!0;return!1}if("Polygon"===this.type){for(t=0;t<this.coordinates.length;t++)if(e.coordinates[t].length===this.coordinates.length)for(r=0;r<this.coordinates.length;r++)if(C(this.coordinates[r],e.coordinates[t][r]))return!0;if(!1===P(this.coordinates,e.coordinates)&&e.coordinates.length){for(t=0;t<e.coordinates.length;t++)n=!1!==N(e.coordinates[t],this.coordinates[0][0]);return n}}else if("LineString"===this.type||"MultiPoint"===this.type)for(t=0;t<e.coordinates.length;t++){var i={type:"Polygon",coordinates:e.coordinates[t]};return!!this.within(i)}else{if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++)if(!1===new I(this.coordinates[t]).within(e))return!1;return!0}if("MultiPolygon"===this.type){for(t=0;t<e.coordinates.length;t++){var a={type:"Polygon",coordinates:e.coordinates[t]};if(!1===this.within(a))return!1}return!0}}}return!1},A.prototype.intersects=function(e){"Feature"===e.type&&(e=e.geometry);var t=new A(e);return!(!this.within(e)&&!t.within(this))||("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==e.type&&"MultiPoint"!==e.type?P(this.coordinates,e.coordinates):"Feature"===this.type?new A(this.geometry).intersects(e):(function(){var e=Array.prototype.slice.apply(arguments);void 0!==typeof console&&console.warn&&console.warn.apply(console,e)}("Type "+this.type+" to "+e.type+" intersection is not supported by intersects"),!1))},D.prototype=new A,D.prototype.constructor=D,R.prototype=new A,R.prototype.constructor=R,R.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates]);return this},R.prototype.addPoint=function(e){return this.coordinates.push(e),this},R.prototype.insertPoint=function(e,t){return this.coordinates.splice(t,0,e),this},R.prototype.removePoint=function(e){return"number"==typeof e?this.coordinates.splice(e,1):this.coordinates.splice(this.coordinates.indexOf(e),1),this},R.prototype.get=function(e){return new D(this.coordinates[e])},I.prototype=new A,I.prototype.constructor=I,I.prototype.addVertex=function(e){return this.coordinates.push(e),this},I.prototype.insertVertex=function(e,t){return this.coordinates.splice(t,0,e),this},I.prototype.removeVertex=function(e){return this.coordinates.splice(e,1),this},L.prototype=new A,L.prototype.constructor=L,L.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},L.prototype.get=function(e){return new I(this.coordinates[e])},F.prototype=new A,F.prototype.constructor=F,F.prototype.addVertex=function(e){return this.insertVertex(e,this.coordinates[0].length-1),this},F.prototype.insertVertex=function(e,t){return this.coordinates[0].splice(t,0,e),this},F.prototype.removeVertex=function(e){return this.coordinates[0].splice(e,1),this},F.prototype.close=function(){this.coordinates=T(this.coordinates)},F.prototype.hasHoles=function(){return this.coordinates.length>1},F.prototype.holes=function(){var e=[];if(this.hasHoles())for(var t=1;t<this.coordinates.length;t++)e.push(new F([this.coordinates[t]]));return e},_.prototype=new A,_.prototype.constructor=_,_.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},_.prototype.get=function(e){return new F(this.coordinates[e])},_.prototype.close=function(){var e=[];return this.forEach((function(t){e.push(T(t))})),this.coordinates=e,this},O.prototype=new A,O.prototype.constructor=O,j.prototype=new A,j.prototype.constructor=j,j.prototype.forEach=function(e){for(var t=0;t<this.features.length;t++)e.apply(this,[this.features[t],t,this.features])},j.prototype.get=function(e){var t;return this.forEach((function(r){r.id===e&&(t=r)})),new O(t)},G.prototype=new A,G.prototype.constructor=G,G.prototype.forEach=function(e){for(var t=0;t<this.geometries.length;t++)e.apply(this,[this.geometries[t],t,this.geometries])},G.prototype.get=function(e){return new A(this.geometries[e])},B.prototype=new A,B.prototype.constructor=B,B.prototype.recalculate=function(){return this.geometry=U(this.properties.center,this.properties.radius,this.properties.steps),this},B.prototype.center=function(e){return e&&(this.properties.center=e,this.recalculate()),this.properties.center},B.prototype.radius=function(e){return e&&(this.properties.radius=e,this.recalculate()),this.properties.radius},B.prototype.steps=function(e){return e&&(this.properties.steps=e,this.recalculate()),this.properties.steps},B.prototype.toJSON=function(){return A.prototype.toJSON.call(this)},e.Primitive=A,e.Point=D,e.MultiPoint=R,e.LineString=I,e.MultiLineString=L,e.Polygon=F,e.MultiPolygon=_,e.Feature=O,e.FeatureCollection=j,e.GeometryCollection=G,e.Circle=B,e.toMercator=d,e.toGeographic=m,e.Tools={},e.Tools.positionToMercator=p,e.Tools.positionToGeographic=f,e.Tools.applyConverter=h,e.Tools.toMercator=d,e.Tools.toGeographic=m,e.Tools.createCircle=U,e.Tools.calculateBounds=i,e.Tools.calculateEnvelope=s,e.Tools.coordinatesContainPoint=S,e.Tools.polygonContainsPoint=N,e.Tools.arraysIntersectArrays=P,e.Tools.coordinatesContainPoint=S,e.Tools.coordinatesEqual=C,e.Tools.convexHull=b,e.Tools.isConvex=function(e){for(var t,r=0;r<e.length-3;r++){var n=e[r],o=e[r+1],i=e[r+2],a=[o[0]-n[0],o[1]-n[1]],s=i[0]*a[1]-i[1]*a[0]+a[0]*n[1]-a[1]*n[0];if(0===r)t=s<0;else if(t&&s>0||!t&&s<0)return!1}return!0},e.MercatorCRS=r,e.GeographicCRS={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}},e},"object"==typeof e.exports&&(e.exports=r()),"object"==typeof window&&(this.Terraformer=r())},737:e=>{(e.exports=function e(t,r){var n;if(null!=t)return r=(r||"").replace(/[^&"<>\']/g,""),n="([&\"<>'])".replace(new RegExp("["+r+"]","g"),""),t.replace(new RegExp(n,"g"),(function(t,r){return e.map[r]}))}).map={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"}},150:(e,t,r)=>{function n(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function i(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),u=n.length;s(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<u;l++){e=n.getURI(l);var c=n.getValue(l),f=(r=n.getQName(l),i.createAttributeNS(e,r));this.locator&&o(n.getLocator(l),f),f.value=f.nodeValue=c,a.setAttributeNode(f)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),s(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=a.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=a.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),s(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),s(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,i(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,i(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,i(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){n.prototype[e]=function(){return null}}));r(147).G;var u=r(541).DOMImplementation;t.XMLSerializer=r(541).XMLSerializer},541:(e,t)=>{function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(Object.create){var o=Object.create(t.prototype);n.__proto__=o}if(!(n instanceof t)){function i(){}i.prototype=t.prototype,r(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var o={},i=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,s=o.TEXT_NODE=3,u=o.CDATA_SECTION_NODE=4,l=o.ENTITY_REFERENCE_NODE=5,c=o.ENTITY_NODE=6,f=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,h=o.DOCUMENT_NODE=9,d=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,g=o.NOTATION_NODE=12,y={},v={},w=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),b=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),S=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function N(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=e,t&&(this.message=this.message+": "+t),r}function x(){}function E(e,t){this._node=e,this._refresh=t,P(this)}function P(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ne(e,"length",n.length),r(n,e),e._inc=t}}function T(){}function M(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function C(e,t,r,n){if(n?t[M(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var o=e.ownerDocument;o&&(n&&F(o,e,n),function(e,t,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(o,e,r))}}function k(e,t,r){var n=M(t,r);if(!(n>=0))throw N(b,new Error(e.tagName+"@"+r));for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var i=e.ownerDocument;i&&(F(i,e,r),r.ownerElement=null)}}function A(e){if(this._features={},e)for(var t in e)this._features=e[t]}function D(){}function R(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function L(){}function F(e,t,r,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete t._nsMap[r.prefix?r.localName:""]}function _(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var o=t.firstChild,i=0;o;)n[i++]=o,o=o.nextSibling;n.length=i}}}function O(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,_(e.ownerDocument,e),t}function j(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===m){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var a=r?r.previousSibling:e.lastChild;o.previousSibling=a,i.nextSibling=r,a?a.nextSibling=o:e.firstChild=o,null==r?e.lastChild=i:r.previousSibling=i;do{o.parentNode=e}while(o!==i&&(o=o.nextSibling));return _(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function G(){this._nsMap={}}function U(){}function B(){}function z(){}function Q(){}function V(){}function q(){}function $(){}function H(){}function J(){}function Y(){}function W(){}function X(){}function K(e,t){var r=[],n=9==this.nodeType?this.documentElement:this,o=n.prefix,i=n.namespaceURI;if(i&&null==o&&null==(o=n.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return ee(this,r,e,t,a),r.join("")}function Z(e,t,r){var n=e.prefix||"",o=e.namespaceURI;if(!n&&!o)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=r.length;i--;){var a=r[i];if(a.prefix==n)return a.namespace!=o}return!0}function ee(e,t,r,n,o){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case i:o||(o=[]),o.length;var c=e.attributes,g=c.length,y=e.firstChild,v=e.tagName;r="http://www.w3.org/1999/xhtml"===e.namespaceURI||r,t.push("<",v);for(var w=0;w<g;w++)"xmlns"==(b=c.item(w)).prefix?o.push({prefix:b.localName,namespace:b.value}):"xmlns"==b.nodeName&&o.push({prefix:"",namespace:b.value});for(w=0;w<g;w++){var b;if(Z(b=c.item(w),0,o)){var S=b.prefix||"",N=b.namespaceURI,x=S?" xmlns:"+S:" xmlns";t.push(x,'="',N,'"'),o.push({prefix:S,namespace:N})}ee(b,t,r,n,o)}if(Z(e,0,o)&&(S=e.prefix||"",N=e.namespaceURI,x=S?" xmlns:"+S:" xmlns",t.push(x,'="',N,'"'),o.push({prefix:S,namespace:N})),y||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),r&&/^script$/i.test(v))for(;y;)y.data?t.push(y.data):ee(y,t,r,n,o),y=y.nextSibling;else for(;y;)ee(y,t,r,n,o),y=y.nextSibling;t.push("</",v,">")}else t.push("/>");return;case h:case m:for(y=e.firstChild;y;)ee(y,t,r,n,o),y=y.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,R),'"');case s:return t.push(e.data.replace(/[<&]/g,R));case u:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case d:var E=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),E)t.push(' PUBLIC "',E),P&&"."!=P&&t.push('" "',P),t.push('">');else if(P&&"."!=P)t.push(' SYSTEM "',P,'">');else{var T=e.internalSubset;T&&t.push(" [",T,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,r){var n;switch(t.nodeType){case i:(n=t.cloneNode(!1)).ownerDocument=e;case m:break;case a:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var o=t.firstChild;o;)n.appendChild(te(e,o,r)),o=o.nextSibling;return n}function re(e,t,r){var n=new t.constructor;for(var o in t){var s=t[o];"object"!=typeof s&&s!=n[o]&&(n[o]=s)}switch(t.childNodes&&(n.childNodes=new x),n.ownerDocument=e,n.nodeType){case i:var u=t.attributes,l=n.attributes=new T,c=u.length;l._ownerElement=n;for(var f=0;f<c;f++)n.setAttributeNode(re(e,u.item(f),!0));break;case a:r=!0}if(r)for(var p=t.firstChild;p;)n.appendChild(re(e,p,r)),p=p.nextSibling;return n}function ne(e,t,r){e[t]=r}y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),N.prototype=Error.prototype,r(y,N),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ee(this[n],r,e,t);return r.join("")}},E.prototype.item=function(e){return P(this),this[e]},n(E,x),T.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new N(S);var r=this.getNamedItem(e.nodeName);return C(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new N(S);return t=this.getNamedItemNS(e.namespaceURI,e.localName),C(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return k(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},A.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new L;if(n.implementation=this,n.childNodes=new x,n.doctype=r,r&&n.appendChild(r),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,r){var n=new q;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return j(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return O(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return re(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},r(o,D),r(o,D.prototype),L.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==i&&(this.documentElement=e),j(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),O(this,e)},importNode:function(e,t){return te(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(r){if(r.nodeType==i&&r.getAttribute("id")==e)return t=r,!0})),t},createElement:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new x,(t.attributes=new T)._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Q;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new W;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new U;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new G,n=t.split(":"),o=r.attributes=new T;return r.childNodes=new x,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,o._ownerElement=r,r},createAttributeNS:function(e,t){var r=new U,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(L,D),G.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,_(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new E(this,(function(t){var r=[];return I(t,(function(n){n===t||n.nodeType!=i||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new E(this,(function(r){var n=[];return I(r,(function(o){o===r||o.nodeType!==i||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||n.push(o)})),n}))}},L.prototype.getElementsByTagName=G.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=G.prototype.getElementsByTagNameNS,n(G,D),U.prototype.nodeType=a,n(U,D),B.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},n(B,D),z.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(z,B),Q.prototype={nodeName:"#comment",nodeType:p},n(Q,B),V.prototype={nodeName:"#cdata-section",nodeType:u},n(V,B),q.prototype.nodeType=d,n(q,D),$.prototype.nodeType=g,n($,D),H.prototype.nodeType=c,n(H,D),J.prototype.nodeType=l,n(J,D),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=m,n(Y,D),W.prototype.nodeType=f,n(W,D),X.prototype.serializeToString=function(e,t,r){return K.call(e,t,r)},D.prototype.toString=K;try{if(Object.defineProperty){function oe(e){switch(e.nodeType){case i:case m:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(oe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(E.prototype,"length",{get:function(){return P(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return oe(this)},set:function(e){switch(this.nodeType){case i:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,r){e["$$"+t]=r}}}catch(e){}t.DOMImplementation=A,t.XMLSerializer=X},147:(e,t)=>{var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$");function i(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,r,n,o,i){for(var a,s=++t,u=0;;){var l=e.charAt(s);switch(l){case"=":if(1===u)a=e.slice(t,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(i.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");c=e.slice(t,s).replace(/&#?\w+;/g,o),r.add(a,c,t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');c=e.slice(t,s).replace(/&#?\w+;/g,o),r.add(a,c,t),i.warning('attribute "'+a+'" missed start quot('+l+")!!"),t=s+1,u=5}break;case"/":switch(u){case 0:r.setTagName(e.slice(t,s));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,s)),s;case">":switch(u){case 0:r.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=e.slice(t,s)).slice(-1)&&(r.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=a),4==u?(i.warning('attribute "'+c+'" missed quot(")!!'),r.add(a,c.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===n[""]&&c.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),r.add(c,c,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:r.setTagName(e.slice(t,s)),u=6;break;case 1:a=e.slice(t,s),u=2;break;case 4:var c=e.slice(t,s).replace(/&#?\w+;/g,o);i.warning('attribute "'+c+'" missed quot(")!!'),r.add(a,c,t);case 5:u=6}else switch(u){case 2:r.tagName,"http://www.w3.org/1999/xhtml"===n[""]&&a.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),r.add(a,a,t),t=s,u=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:u=1,t=s;break;case 3:u=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function u(e,t,r){for(var n=e.tagName,o=null,i=e.length;i--;){var a=e[i],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),c=s.slice(h+1),p="xmlns"===l&&c;else c=s,l=null,p="xmlns"===s&&"";a.localName=c,!1!==p&&(null==o&&(o={},f(r,r={})),r[p]=o[p]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,u))}for(i=e.length;i--;)(l=(a=e[i]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=r[l||""]));var h;(h=n.indexOf(":"))>0?(l=e.prefix=n.slice(0,h),c=e.localName=n.slice(h+1)):(l=null,c=e.localName=n);var d=e.uri=r[l||""];if(t.startElement(d,c,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(d,c,n),o)for(l in o)t.endPrefixMapping(l)}function l(e,t,r,n,o){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(r)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,n),o.characters(a,0,a.length),i)}return t+1}function c(e,t,r,n){var o=n[r];return null==o&&((o=e.lastIndexOf("</"+r+">"))<t&&(o=e.lastIndexOf("</"+r)),n[r]=o),o<t}function f(e,t){for(var r in e)t[r]=e[r]}function p(e,t,r,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,o-t-9),r.endCDATA(),o+3}var i=function(e,t){var r,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);r=o.exec(e);)if(n.push(r),r[1])return n}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],u=a>3&&/^public$/i.test(i[2][0])&&i[3][0],l=a>4&&i[4][0],c=i[a-1];return r.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),c.index+c[0].length}}return-1}function h(e,t,r){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,r.processingInstruction(o[1],o[2]),n+2):-1}return-1}function d(e){}function m(e,t){return e.__proto__=t,e}i.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),f(t,t={}),function(e,t,r,n,o){function i(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function f(t){if(t>N){var r=e.substring(N,t).replace(/&#?\w+;/g,i);w&&m(N),n.characters(r,0,t-N),N=t}}function m(t,r){for(;t>=y&&(r=v.exec(e));)g=r.index,y=g+r[0].length,w.lineNumber++;w.columnNumber=t-g+1}for(var g=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,w=n.locator,b=[{currentNSMap:t}],S={},N=0;;){try{var x=e.indexOf("<",N);if(x<0){if(!e.substr(N).match(/^\s*$/)){var E=n.doc,P=E.createTextNode(e.substr(N));E.appendChild(P),n.currentElement=P}return}switch(x>N&&f(x),e.charAt(x+1)){case"/":var T=e.indexOf(">",x+3),M=e.substring(x+2,T),C=b.pop();T<0?(M=e.substring(x+2).replace(/[\s<].*/,""),o.error("end tag name: "+M+" is not complete:"+C.tagName),T=x+1+M.length):M.match(/\s</)&&(M=M.replace(/[\s<].*/,""),o.error("end tag name: "+M+" maybe not complete"),T=x+1+M.length);var k=C.localNSMap,A=C.tagName==M;if(A||C.tagName&&C.tagName.toLowerCase()==M.toLowerCase()){if(n.endElement(C.uri,C.localName,M),k)for(var D in k)n.endPrefixMapping(D);A||o.fatalError("end tag name: "+M+" is not match the current start tagName:"+C.tagName)}else b.push(C);T++;break;case"?":w&&m(x),T=h(e,x,n);break;case"!":w&&m(x),T=p(e,x,n,o);break;default:w&&m(x);var R=new d,I=b[b.length-1].currentNSMap,L=(T=s(e,x,R,I,i,o),R.length);if(!R.closed&&c(e,T,R.tagName,S)&&(R.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),w&&L){for(var F=a(w,{}),_=0;_<L;_++){var O=R[_];m(O.offset),O.locator=a(w,{})}n.locator=F,u(R,n,I)&&b.push(R),n.locator=w}else u(R,n,I)&&b.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?T++:T=l(e,T,R.tagName,i,n)}}catch(e){o.error("element parse error: "+e),T=-1}T>N?N=T:f(Math.max(x,N)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},d.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!o.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r}),t.G=i},279:(e,t)=>{t.FOLDER_KEY_NAME="_fkey",t.DEFAULT_KML_STYLES={polySyleColor:"88555555",lineStyleColor:"ff555555",lineWidth:2},t.DEFAULT_SYMBOLS={marker:{type:"esriSMS",style:"esriSMSCircle",color:[255,0,0,64],size:10,angle:0,xoffset:0,yoffset:0,outline:{color:[255,0,0,255],width:1,style:"esriSLSSolid",type:"esriSLS"}},polyline:{type:"esriSLS",style:"esriSLSSolid",color:[255,0,0,255],width:2},polygon:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[255,0,0,255],width:2}}}},509:(e,t,r)=>{var n=r(55).convert,o=r(765).N;t.D=function(e,t){t=t||{spatialReference:{wkid:4326}};var r,i="GeometryCollection"===e.geometry.type,a=t.spatialReference;if(i){var s=n(e.geometry),u=e.geometry.geometries[0]&&e.geometry.geometries[0].type;r={spatialReference:a},"Point"===u?r.points=s.map((function(e){return[e.x,e.y,e.z||0]})):"LineString"===u?(r.paths=[],s.forEach((function(e){e.paths.forEach((function(e){r.paths.push(e)}))}))):"Polygon"===u&&(r.rings=[],s.forEach((function(e){e.rings.forEach((function(e){r.rings.push(e)}))})))}else(r=n(e.geometry)).spatialReference=a;return{attributes:e.properties,geometry:r,symbol:o(e)}}},492:(e,t,r)=>{var n=r(509).D,o=r(765).N;e.exports={graphicJSON:n,symbol:o}},765:(e,t,r)=>{var n=r(279).DEFAULT_SYMBOLS;function o(e,t){return"#"===e[0]&&(e=e.substr(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length,[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16),void 0===t?255:Math.round(255*t)]}function i(e){return{type:"esriSLS",style:"esriSLSSolid",color:e.stroke?o(e.stroke,e["stroke-opacity"]):n.polyline.color,width:e["stroke-width"]||n.polyline.width}}t.N=function(e){var t,r="GeometryCollection"===e.geometry.type?e.geometry.geometries[0].type:e.geometry.type;return"LineString"===r?i(e.properties):"Polygon"===r?{type:"esriSFS",style:"esriSFSSolid",color:(t=e.properties).fill?o(t.fill,t["fill-opacity"]):n.polygon.color,outline:i(t)}:"Point"===r?(e.properties,n.marker):void 0}},387:(e,t,r)=>{var n=r(55).parse,o=r(155),i=r(722).E;t.toFeature=function(e){return{type:"Feature",geometry:n(o.toWgs84Geometry(e.geometry)),properties:Object.assign({},e.attributes,i(e))}},t.toFeatureCollection=function(e){return{type:"FeatureCollection",features:(e||[]).map(t.toFeature)}}},82:(e,t,r)=>{var n=r(387);e.exports={toFeature:n.toFeature,toFeatureCollection:n.toFeatureCollection}},722:(e,t,r)=>{var n=r(327).numberToHex;function o(e){return{hex:n(e[0])+n(e[1])+n(e[2]),opacity:(e.length>3?e[3]:255)/255}}t.E=function(e){var t=e.geometry,r=e.symbol||{},n={};if(t.rings){var i=o(r.color),a=o(r.outline.color);n.fill=i.hex,n["fill-opacity"]=i.opacity,n.stroke=a.hex,n["stroke-opacity"]=a.opacity,n["stroke-width"]=r.outline.width}else if(t.paths){var s=o(r.color);n.stroke=s.hex,n["stroke-opacity"]=s.opacity,n["stroke-width"]=r.width}return n}},713:(e,t,r)=>{var n=r(442),o=r(327),i=r(82).toFeatureCollection,a=r(155),s=r(724),u=r(279),l=n.tag;function c(e,t){return function(r){if(!r.properties||!a.valid(r.geometry))return"";var n=d(r.geometry);if(!n)return"";var i="",c="";if(e.simpleStyle){var f=s.hashStyle(r.properties);f&&(a.isPoint(r.geometry)&&s.hasMarkerStyle(r.properties)?(-1===t.indexOf(f)&&(i=function(e,t){return l("Style",{id:t},l("IconStyle",l("Icon",l("href",s.iconUrl(e))))+l("hotSpot",{xunits:"fraction",yunits:"fraction",x:.5,y:.5},""))}(r.properties,f),t.push(f)),c=l("styleUrl","#"+f)):(a.isPolygon(r.geometry)||a.isLine(r.geometry))&&s.hasPolygonAndLineStyle(r.properties)&&(-1===t.indexOf(f)&&(i=function(e,t){var r=l("LineStyle",[l("color",o.hexToKmlColor(e.stroke,e["stroke-opacity"])||u.lineStyleColor)+l("width",(void 0===e["stroke-width"]?u.lineWidth:e["stroke-width"])+"")]),n="";return(e.fill||e["fill-opacity"])&&(n=l("PolyStyle",[l("color",o.hexToKmlColor(e.fill,e["fill-opacity"])||u.polySyleColor)])),l("Style",{id:t},r+n)}(r.properties,f),t.push(f)),c=l("styleUrl","#"+f)))}return i+l("Placemark",function(e,t){return e[t.name]?l("name",e[t.name]):""}(r.properties,e)+function(e,t){return e[t.description]?l("description",e[t.description]):""}(r.properties,e)+function(e){return l("ExtendedData",function(e){var t=[];for(var r in e)t.push([r,e[r]]);return t}(e).map(p).join(""))}(r.properties)+function(e,t){return e[t.timestamp]?l("TimeStamp",l("when",e[t.timestamp])):""}(r.properties,e)+n+c)}}function f(e){return e.map((function(e){return e.join(",")})).join(" ")}function p(e){return l("Data",{name:e[0]},l("value",e[1]||""))}e.exports=function(e,t,r){return t=t||[],e="geojson"===(r=Object.assign({documentName:void 0,documentDescription:void 0,name:"name",description:"description",simpleStyle:!0,timestamp:"timestamp",folder:"folder",dataType:"geojson"},r)).dataType?e:i(e),'<?xml version="1.0" encoding="UTF-8"?>'+l("kml",{xmlns:"http://www.opengis.net/kml/2.2"},l("Document",function(e){return void 0!==e.documentName?l("name",e.documentName):""}(r)+function(e){return void 0!==e.documentDescription?l("description",e.documentDescription):""}(r)+function(e,t,r){if(!e.type)return"";var n=[];switch(e.type){case"FeatureCollection":return e.features?t.length>0&&r.folder?function(e,t,r,n){return function e(o){return 0===(o=o||[]).length?"":o.map((function(o){var i=t.filter((function(e){return e.properties[n.folder]===o.key}));return l("Folder",l("name",o.name)+e(o.children)+i.map(c(n,r)).join(""))})).join("")}(e)}(t,e.features,n,r):e.features.map(c(r,n)).join(""):"";case"Feature":return c(r,n)(e);default:return c(r,n)({type:"Feature",geometry:e,properties:{}})}}(e,t,r)))};var h={Point:function(e){return l("Point",l("coordinates",e.coordinates.join(",")))},LineString:function(e){return l("LineString",l("coordinates",f(e.coordinates)))},Polygon:function(e){if(!e.coordinates.length)return"";var t=e.coordinates[0],r=e.coordinates.slice(1),n=l("outerBoundaryIs",l("LinearRing",l("coordinates",f(t)))),o=r.map((function(e){return l("innerBoundaryIs",l("LinearRing",l("coordinates",f(e))))})).join("");return l("Polygon",n+o)},MultiPoint:function(e){return e.coordinates.length?l("MultiGeometry",e.coordinates.map((function(e){return h.Point({coordinates:e})})).join("")):""},MultiPolygon:function(e){return e.coordinates.length?l("MultiGeometry",e.coordinates.map((function(e){return h.Polygon({coordinates:e})})).join("")):""},MultiLineString:function(e){return e.coordinates.length?l("MultiGeometry",e.coordinates.map((function(e){return h.LineString({coordinates:e})})).join("")):""},GeometryCollection:function(e){return l("MultiGeometry",e.geometries.map(d).join(""))}};function d(e){return h[e.type]?h[e.type](e):""}},105:(e,t,r)=>{var n=r(630);t.Q=function(e){for(var t=e.substring("<![CDATA[".length,e.length-"]]>".length),r=new n.JSDOM(t).window.document.querySelectorAll("td>table td"),o={},i=0;i<r.length;i+=2){var a=r[i].innerHTML,s=r[i+1].innerHTML;s&&"&lt;空&gt;"!==s&&(o[a]=s)}return o}},735:(e,t,r)=>{var n=r(279).FOLDER_KEY_NAME,o=r(558),i=o.parent,a=o.nodeVal,s=o.get,u=o.get1,l=o.attr,c=o.setAttr;t.Q=function(e,t){var r=Array.from(s(e,"Folder"));if(0===r.length)return[];var o=t&&t.defaultFolderName?t.defaultFolderName:"unknown",f=i(r[0]),p=0,h=function(e){var t=i(e),s=u(e,"name"),f=p+++"";return c(e,n,f),{key:f,parent:"Folder"===t.tagName?l(t,n):null,name:s?a(s):o,children:r.filter((function(t){return i(t)===e})).map(h)}};return r.filter((function(e){return i(e)===f})).map(h)}},335:(e,t,r)=>{var n=r(558),o=n.get,i=n.get1,a=n.nodeVal,s=["Polygon","LineString","Point","Track","gx:Track"],u={};function l(e){for(var t=0,r=[];t<e.length;t++)r[t]=parseFloat(e[t]);return r}var c=/\s*/g;function f(e){var t=l(e.replace(c,"").split(","));return u.coordCallback&&(t=u.coordCallback(t)),t}var p=/^\s*|\s*$/g,h=/\s+/;function d(e){for(var t=e.replace(p,"").split(h),r=[],n=0;n<t.length;n++)r.push(f(t[n]));return r}function m(e){var t=o(e,"coord","gx"),r=[],n=[];0===t.length&&(t=o(e,"gx:coord"));for(var i=0;i<t.length;i++)r.push(l(a(t[i]).split(" ")));for(var s=o(e,"when"),u=0;u<s.length;u++)n.push(a(s[u]));return{coords:r,times:n}}t.Q=function e(t,r){r&&(u=r);var n,l,c,p,h,g=[],y=[];if(i(t,"MultiGeometry"))return e(i(t,"MultiGeometry"));if(i(t,"MultiTrack"))return e(i(t,"MultiTrack"));if(i(t,"gx:MultiTrack"))return e(i(t,"gx:MultiTrack"));for(c=0;c<s.length;c++)if(l=o(t,s[c]))for(p=0;p<l.length;p++)if(n=l[p],"Point"===s[c])g.push({type:"Point",coordinates:f(a(i(n,"coordinates")))});else if("LineString"===s[c])g.push({type:"LineString",coordinates:d(a(i(n,"coordinates")))});else if("Polygon"===s[c]){var v=o(n,"LinearRing"),w=[];for(h=0;h<v.length;h++)w.push(d(a(i(v[h],"coordinates"))));g.push({type:"Polygon",coordinates:w})}else if("Track"===s[c]||"gx:Track"===s[c]){var b=m(n);g.push({type:"LineString",coordinates:b.coords}),b.times.length&&y.push(b.times)}return{geoms:g,coordTimes:y}}},115:(e,t,r)=>{var n=r(279).FOLDER_KEY_NAME,o=r(335).Q,i=r(558),a=i.get,s=i.parent,u=i.get1,l=i.nodeVal,c=i.attr,f=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p={};t.Q=function(e,t,r){r&&(p=r);var i,h={},d=o(e,p),m="Folder"===s(e).tagName?c(s(e),n):null,g=l(u(e,"name")),y=l(u(e,"address")),v=l(u(e,"description")),w=u(e,"TimeSpan"),b=u(e,"TimeStamp"),S=u(e,"ExtendedData"),N=u(e,"visibility");if(!d.geoms.length)return[];if(S){var x=a(S,"Data"),E=a(S,"SimpleData");for(i=0;i<x.length;i++)h[x[i].getAttribute("name")]=l(u(x[i],"value"));for(i=0;i<E.length;i++)h[E[i].getAttribute("name")]=l(E[i])}if(m&&(h.folder=m),g&&(h.name=g),y&&(h.address=y),v&&(h.description=v),N&&(h.visibility=l(N)),b&&(h.timestamp=l(u(b,"when"))),w){var P=l(u(w,"begin")),T=l(u(w,"end"));h.timespan={begin:P,end:T}}d.coordTimes.length&&(h.coordTimes=1===d.coordTimes.length?d.coordTimes[0]:d.coordTimes),t&&t(e,h);var M=p.propertyCallbacks;if(f(M))for(var C in M)if(h.hasOwnProperty(C)){var k=M[C](h[C]);f(k)?(delete h[C],Object.assign(h,k)):h[C]=M[C](h[C])}var A={type:"Feature",geometry:1===d.geoms.length?d.geoms[0]:{type:"GeometryCollection",geometries:d.geoms},properties:h};return c(e,"id")&&(A.id=c(e,"id")),A}},635:(e,t,r)=>{var n=r(327),o=r(558),i=o.get,a=o.get1,s=o.attr,u=o.nodeVal,l=o.xml2str,c=n.kmlColor;function f(e){if(!e||!e.length)return 0;for(var t=0,r=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return r}t.Q=function(e,t){for(var r={},n={},o={},p=i(e,"Style"),h=i(e,"StyleMap"),d=0;d<p.length;d++){var m=f(l(p[d])).toString(16);r["#"+s(p[d],"id")]=m,n[m]=p[d]}for(var g=0;g<h.length;g++){r["#"+s(h[g],"id")]=f(l(h[g])).toString(16);for(var y=i(h[g],"Pair"),v={},w=0;w<y.length;w++)v[u(a(y[w],"key"))]=u(a(y[w],"styleUrl"));o["#"+s(h[g],"id")]=v}return t&&t.returnPropertiesSetter?function(e,t){!function(e,t,r,n,o){var i=u(a(e,"styleUrl")),s=a(e,"LineStyle"),l=a(e,"PolyStyle"),f=null;if(i){"#"!==i[0]&&(i="#"+i),t.styleUrl=i,n[i]&&(t.styleHash=n[i]),o[i]&&(t.styleMapHash=o[i],t.styleHash=n[o[i].normal]);var p=r[t.styleHash];p&&(f=a(p,"IconStyle"),s=s||a(p,"LineStyle"),l=l||a(p,"PolyStyle"))}f&&function(e,t){var r=a(t,"Icon");if(r){var n=u(a(r,"href"));n&&(e.icon=n)}}(t,f),s&&function(e,t){var r=c(u(a(t,"color"))),n=r[0],o=r[1],i=parseFloat(u(a(t,"width")));n&&(e.stroke=n),isNaN(o)||(e["stroke-opacity"]=o),isNaN(i)||(e["stroke-width"]=i)}(t,s),l&&function(e,t){var r=c(u(a(t,"color"))),n=r[0],o=r[1],i=u(a(t,"fill")),s=u(a(t,"outline"));n&&(e.fill=n),isNaN(o)||(e["fill-opacity"]=o),i&&(e["fill-opacity"]="1"===i?e["fill-opacity"]||1:0),s&&(e["stroke-opacity"]="1"===s?e["stroke-opacity"]||1:0)}(t,l)}(e,t,n,r,o)}:{styleByHash:n,styleIndex:r,styleMapIndex:o}}},327:e=>{e.exports={hexToKmlColor:function(e,t){if("string"!=typeof e)return"";if(3===(e=e.replace("#","").toLowerCase()).length)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];else if(6!==e.length)return"";var r=e[0]+e[1],n=e[2]+e[3],o=e[4]+e[5],i="ff";return"number"==typeof t&&t>=0&&t<=1&&((i=(255*t).toString(16)).indexOf(".")>-1&&(i=i.substr(0,i.indexOf("."))),i.length<2&&(i="0"+i)),i+o+n+r},kmlColor:function(e){var t,r;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(r=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(r)?void 0:r]},numberToHex:function(e,t){var r;return 1===(t=t||255)&&(e*=255),(r=(e=Math.min(e,255)).toString(16)).indexOf(".")>-1&&(r=r.substr(0,r.indexOf("."))),r.length<2&&(r="0"+r),r}}},558:(e,t,r)=>{var n;if("undefined"!=typeof XMLSerializer)n=new XMLSerializer;else{var o="object"==typeof process&&!process.browser,i="object"==typeof Titanium;if(!o&&!i)throw new Error("Unable to initialize serializer");n=new(r(150).XMLSerializer)}function a(e,t){return e.getElementsByTagName(t)}function s(e,t){return e.getAttribute(t)}function u(e){return e.normalize?e.normalize():e}e.exports={parent:function(e){return e.parentElement||e.parentNode||null},get:a,get1:function(e,t){var r=a(e,t);return r.length?r[0]:null},attr:s,setAttr:function(e,t,r){return e.setAttribute(t,r)},attrf:function(e,t){return parseFloat(s(e,t))},norm:u,nodeVal:function(e,t){e&&u(e);var r=e&&e.textContent||"";return(t=void 0===t||t)?r.replace(/(\r\n|\n|\r)/gm,"").trim():r},xml2str:function(e){return void 0!==e.xml?e.xml:n.serializeToString(e)}}},155:(e,t,r)=>{var n=r(102).xm,o=r(981).toWgs84;function i(e){var t=n(e);return o(t).geometry.coordinates}e.exports={isPoint:function(e){return"Point"===e.type||"MultiPoint"===e.type},isPolygon:function(e){return"Polygon"===e.type||"MultiPolygon"===e.type},isLine:function(e){return"LineString"===e.type||"MultiLineString"===e.type},valid:function(e){return e&&e.type&&(e.coordinates||"GeometryCollection"===e.type&&e.geometries&&e.geometries.every(geometry.valid))},toWgs84Geometry:function(e){if(e.spatialReference&&4326===e.spatialReference.wkid)return e;if(e.rings)e.rings=e.rings.map((function(e){return e.map((function(e){return i(e)}))}));else if(e.paths)e.paths=e.paths.map((function(e){return e.map((function(e){return i(e)}))}));else if(e.points)e.points=e.points.map((function(e){return i(e)}));else{var t=i([e.x,e.y]);e.x=t[0],e.y=t[1]}return e.spatialReference={wkid:4326},e}}},724:e=>{e.exports={hasPolygonAndLineStyle:function(e){var t={stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0};for(var r in e)if(t[r])return!0},hashStyle:function(e){var t="";return e["marker-symbol"]&&(t=t+"ms"+e["marker-symbol"]),e["marker-color"]&&(t=t+"mc"+e["marker-color"].replace("#","")),e["marker-size"]&&(t=t+"ms"+e["marker-size"]),e.stroke&&(t=t+"s"+e.stroke.replace("#","")),e["stroke-width"]&&(t=t+"sw"+e["stroke-width"].toString().replace(".","")),e["stroke-opacity"]&&(t=t+"mo"+e["stroke-opacity"].toString().replace(".","")),e.fill&&(t=t+"f"+e.fill.replace("#","")),e["fill-opacity"]&&(t=t+"fo"+e["fill-opacity"].toString().replace(".","")),t},hasMarkerStyle:function(e){return!!(e["marker-size"]||e["marker-symbol"]||e["marker-color"])},iconUrl:function(e){var t=e["marker-size"]||"medium",r=e["marker-symbol"]?"-"+e["marker-symbol"]:"",n=(e["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+t.charAt(0)+r+"+"+n+".png"}}},630:e=>{"use strict";e.exports=window.jsdom}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}var n={};(()=>{var e=n,t=r(558),o=r(635).Q,i=r(115).Q,a=r(735).Q,s=r(105).Q,u=r(492),l=r(82),c=r(713);function f(e,r){r=Object.assign({style:!0,propertyCallbacks:null},r);for(var n=[],a=t.get(e,"Placemark"),s=r&&r.style?o(e,{returnPropertiesSetter:!0}):null,u=0;u<a.length;u++)n.push(i(a[u],s,r));return{type:"FeatureCollection",features:n}}e.parse=function(e,t){var r=a(e);return{geoJSON:f(e,t),folders:r}},e.parseFolder=a,e.parseGeoJSON=f,e.arcgisConvertor=u,e.geoJSONConvertor=l,e.kmlify=c,e.parseDescription=s})(),window.kmlUtils=n})();